/* ==================================================  \
   Retro-Jurassic theme â€“ pixel-CRT sunset meets jungle \
   No external images (data-URI SVG inline)            \
   Author: GPT-4                                         
   ===================================================*/

/* 0. Dinosaur Layer - New */
#dinosaur-layer {
    position: fixed;
    top: 0;
    left: 0;
    width: 100vw; /* Use vw/vh for full viewport coverage consistently */
    height: 100vh;
    z-index: 0; /* Above parallax BGs, below content */
    pointer-events: none; /* Allows clicks to pass through to content below */
    overflow: hidden; /* Prevent dinos appearing outside this layer if they overflow their own bounds */
}

/* 1. Palette & fonts */
:root {
  --sky-top: #ffba00;          /* sunset orange */
  --sky-bottom: #300048;       /* deep dusk purple */
  --jungle-hills: #073a23;     /* silhouette mountains */
  --leaf-fore: #0d4b2a;        /* foreground leaves */
  --amber-glow: #ffae34;       /* fossil amber accent */
  --stone-bg: #2a2924;         /* card background */
  --stone-border: #3d3b36;     /* chiselled edge */
  --text-primary: #fffef4;
  --text-secondary: #cdc6b3;
  /* Parallax control vars */
  --shiftX: 0; /* updated by JS */
  --shiftY: 0; /* updated by JS */
}

@font-face {
  font-family: 'Press Start 2P';
  src: url('https://fonts.gstatic.com/s/pressstart2p/v11/e3t4euO8T_iG5IehzS5oZAKldGxLHf8KVV9M.ttf') format('truetype');
  font-display: swap;
}

body {
  color: var(--text-primary);
  background:
    /* pixel fern pattern */
    repeating-linear-gradient(45deg, rgba(0,0,0,0.05) 0 2px, transparent 2px 4px),
    /* CRT scanlines subtle */
    repeating-linear-gradient(0deg, rgba(0,0,0,0.12) 0 1px, transparent 1px 3px),
    /* sunset sky */
    linear-gradient(180deg, var(--sky-top) 0%, var(--sky-bottom) 90%);
  background-attachment: fixed;
  font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
}

/* ---- 2. Sky silhouettes (parallax) ---- */
/* Distant mountains */
body::before {
  content: "";
  position: fixed;
  left: 0;
  bottom: -2px;
  width: 100%;
  height: 40vh;
  pointer-events: none;
  z-index: -2;
  background: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='1200' height='200' viewBox='0 0 1200 200'%3E%3Cpath fill='%23073a23' d='M0 160 L80 120 L160 140 L240 100 L320 120 L400 80 L480 100 L560 60 L640 80 L720 40 L800 60 L880 20 L960 40 L1040 0 L1200 0 1200 200 0 200Z'/%3E%3C/svg%3E") repeat-x;
  background-size: 1200px 200px;
  animation: mountainsScroll 50s linear infinite;
  will-change: transform;
  transform: translate3d(calc(var(--shiftX,0) * .2px), calc(var(--shiftY,0) * .1px), 0);
}

@keyframes mountainsScroll {
  to { background-position-x: -1200px; }
}

/* Foreground leaves */
body::after {
  content: "";
  position: fixed;
  left: 0;
  bottom: 0;
  width: 100%;
  height: 25vh;
  pointer-events: none;
  z-index: -1;
  background: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='800' height='150' viewBox='0 0 800 150'%3E%3Cpath fill='%230d4b2a' d='M0 130 C50 110 50 110 100 130 C150 150 150 150 200 130 C250 110 250 110 300 130 C350 150 350 150 400 130 C450 110 450 110 500 130 C550 150 550 150 600 130 C650 110 650 110 700 130 C750 150 750 150 800 130 V150 H0Z'/%3E%3C/svg%3E") repeat-x;
  background-size: 800px 150px;
  animation: leavesScroll 30s linear infinite;
  will-change: transform;
  transform: translate3d(calc(var(--shiftX,0) * .8px), calc(var(--shiftY,0) * .4px), 0);
}
@keyframes leavesScroll {
  to { background-position-x: -800px; }
}

/* ---- 3. Typography tweaks ---- */
.about-section h1,
.nav-brand {
  font-family: 'Press Start 2P', monospace;
  letter-spacing: -0.02em;
  text-shadow: 0 0 6px rgba(0,0,0,0.6);
}

/* Amber glow on brand */
.nav-brand {
  position: relative;
  color: var(--amber-glow);
}
.nav-brand::after {
  content: '';
  position: absolute;
  inset: -4px;
  border-radius: 50%;
  background: radial-gradient(circle, var(--amber-glow) 0%, transparent 70%);
  filter: blur(12px);
  opacity: 0;
  transition: opacity 0.4s ease;
}
.nav-brand:hover::after {
  opacity: 0.9;
}

/* ---- 4. Writing "stone tablet" cards ---- */
.writing-item {
  background: var(--stone-bg);
  border: 3px solid var(--stone-border);
  border-radius: 6px;
  box-shadow: inset 0 0 0 1px rgba(255,255,255,0.05);
  transition: transform 0.3s ease, background 0.2s ease;
  padding: 1.2rem;
}
.writing-item:hover {
  transform: translateY(-6px);
  background: rgba(255,255,255,0.05);
}
.writing-item h3 {
  font-family: 'Press Start 2P', monospace;
  font-size: 1.1rem;
}

/* ---- 5. Pterodactyl sprite ---- */
.ptero {
  position: fixed;
  top: 0;
  left: 100%;
  width: 64px;
  height: 48px;
  background: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='64' height='48' viewBox='0 0 64 48'%3E%3Cpath fill='%23fffef4' d='M2 24l20-8L40 2l-4 22 26 4-26 4 4 22-18-16z'/%3E%3C/svg%3E") no-repeat center/contain;
  pointer-events: none;
  z-index: 1;
  animation: pteroFly 30s linear infinite;
}
@keyframes pteroFly {
  from { transform: translateX(0) scaleX(-1); }
  to { transform: translateX(calc(-100vw - 64px)) scaleX(-1); }
}

/* Disable heavy motion for reduced-motion users */
@media (prefers-reduced-motion: reduce) {
  body::before, body::after, .ptero, .dino, .layer-mid { animation: none !important; transform: none !important; }
}

/* ---- 6. Misc adjustments ---- */
html { scroll-behavior: smooth; }

/* ---- 2b. Mid palm layer ---- */
.layer-mid {
  pointer-events: none;
  position: fixed;
  left: 0;
  bottom: 0;
  width: 100%;
  height: 32vh;
  z-index: -1;
  background: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='1000' height='160' viewBox='0 0 1000 160'%3E%3Cpath fill='%2308452d' d='M0 140 L40 120 L80 125 L120 105 L160 115 L200 90 L240 100 L280 70 L320 80 L360 55 L400 65 L440 40 L480 50 L520 25 L560 35 L600 10 L640 20 L680 0 L1000 0 1000 160 0 160Z'/%3E%3C/svg%3E") repeat-x;
  background-size: 1000px 160px;
  animation: palmsScroll 40s linear infinite;
  will-change: transform;
  transform: translate3d(calc(var(--shiftX,0) * .4px), calc(var(--shiftY,0) * .2px), 0);
}
@keyframes palmsScroll { to { background-position-x: -1000px; } }

/* Apply pointer-based parallax transforms to existing pseudo layers */
body::before { will-change: transform; transform: translate3d(calc(var(--shiftX,0) * .2px), calc(var(--shiftY,0) * .1px), 0); }
body::after  { will-change: transform; transform: translate3d(calc(var(--shiftX,0) * .8px), calc(var(--shiftY,0) * .4px), 0); }

/* ---- 6. Dino ground sprites ---- */
.dino {
  position: fixed;
  bottom: 6vh;
  left: 100vw;
  width: 80px;
  height: 48px;
  pointer-events: none;
  animation: walkAcross var(--dino-speed, 16s) linear forwards;
  will-change: transform;
  z-index: 1;
}
@keyframes walkAcross {
  from { transform: translateX(0) scaleX(-1); }
  to   { transform: translateX(calc(-100vw - 60px)) scaleX(-1); }
}
.dino.raptor {
  background: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='80' height='48' viewBox='0 0 80 48'%3E%3Cpath fill='%237bd389' d='M0 38h8l4-4h12l8-8h24l8 4h8l8 16h-16l-4-4H40l-4 4H0z'/%3E%3C/svg%3E") no-repeat center/contain;
}
.dino.trice {
  background: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='80' height='48' viewBox='0 0 80 48'%3E%3Cpath fill='%23c9a8ff' d='M2 40l10-10h12l10-6h20l10 2h10l4 24H30l-4-4H4z'/%3E%3C/svg%3E") no-repeat center/contain;
}
.dino.trex {
  width: 96px;
  height: 56px;
  background: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='96' height='56' viewBox='0 0 96 56'%3E%3Cpath fill='%2363c35c' d='M0 44h12l6-6h16l12-12h28l12 6h10l10 24H46l-6-4H0z'/%3E%3C/svg%3E") no-repeat center/contain;
}

/* Ensure dinos and ptero are still visible; their z-index is relative to #dinosaur-layer now. */
/* Original z-index: 1000 was fine, can keep or simplify. Let's ensure they stay above potential siblings within #dinosaur-layer if any were added. */
.dino, .ptero {
    /* position: fixed; is still good as they are fixed relative to viewport, within their fixed parent layer */
    z-index: 1; /* Ensures they are above the #dinosaur-layer itself if it ever got a background, and above each other if spawned simultaneously (though unlikely) */
}

/* Update reduced-motion overrides */
@media (prefers-reduced-motion: reduce) {
  body::before, body::after, .layer-mid, .ptero, .dino { animation: none !important; transform: none !important; }
}

/* 0.5 Additional Jungle Layers */
.vine-layer {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 18vh;
  pointer-events: none;
  z-index: -1;
  background: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='800' height='120' viewBox='0 0 800 120'%3E%3Cpath fill='%2308452d' d='M0 0 H800 V40 L760 60 L720 40 L680 70 L640 60 L600 85 L560 70 L520 90 L480 60 L440 95 L400 80 L360 95 L320 60 L280 80 L240 60 L200 75 L160 55 L120 70 L80 50 L40 65 L0 50 Z'/%3E%3C/svg%3E") repeat-x;
  background-size: 800px 120px;
  animation: vinesScroll 35s linear infinite;
}
@keyframes vinesScroll { to { background-position-x: -800px; } }

.ground-layer {
  position: fixed;
  bottom: 0;
  left: 0;
  width: 100%;
  height: 14vh;
  pointer-events: none;
  z-index: -2;
  background: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='1000' height='100' viewBox='0 0 1000 100'%3E%3Cpath fill='%23093519' d='M0 30 L40 40 L80 35 L120 50 L160 42 L200 54 L240 48 L280 58 L320 53 L360 61 L400 57 L440 63 L480 61 L520 65 L560 62 L600 67 L640 64 L680 68 L720 65 L760 70 L800 67 L840 72 L880 70 L920 73 L960 71 L1000 75 V100 H0 Z'/%3E%3C/svg%3E") repeat-x;
  background-size: 1000px 100px;
  animation: groundScroll 20s linear infinite;
}
@keyframes groundScroll { to { background-position-x: -1000px; } } 