/* ==================================================  \
   Aquawave theme â€“ Vaporwave meets cyberpunk water world   \
   Retro anime + pixel art water aesthetic                  \
   ===================================================*/

/* 1. Palette & Fonts */
:root {
  --water-deep: #0b0b3b;       /* deep ocean blue */
  --water-mid: #0f5e9c;        /* mid-ocean blue */
  --water-surface: #2a97c7;    /* surface water */
  --water-highlight: #5fe0ff;  /* bright highlight */
  --neon-pink: #ff71ce;        /* vaporwave pink */
  --neon-blue: #01cdfe;        /* electric blue */
  --neon-purple: #b967ff;      /* cyberpunk purple */
  --neon-yellow: #fffb96;      /* glowing yellow */
  --cyber-dark: #05052a;       /* dark background */
  --cyber-grid: rgba(1, 205, 254, 0.15); /* grid lines */
  --text-primary: #ffffff;
  --text-secondary: #01cdfe;
  --glow-shadow: 0 0 10px var(--neon-blue), 0 0 20px rgba(1, 205, 254, 0.5);
  
  /* Animation control vars */
  --waveShiftX: 0; /* updated by JS */
  --waveShiftY: 0; /* updated by JS */
}

body {
  color: var(--text-primary);
  background:
    /* horizontal wave scanlines */
    repeating-linear-gradient(0deg, rgba(1, 205, 254, 0.05) 0 2px, transparent 2px 8px),
    /* neon grid overlay */
    linear-gradient(90deg, var(--cyber-grid) 1px, transparent 1px) 0 0 / 40px 40px,
    linear-gradient(0deg, var(--cyber-grid) 1px, transparent 1px) 0 0 / 40px 40px,
    /* deep to surface water gradient */
    linear-gradient(180deg, var(--water-deep) 0%, var(--water-mid) 60%, var(--water-surface) 100%);
  background-attachment: fixed;
  font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
  position: relative;
  overflow-x: hidden;
  cursor: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='20' height='20' viewBox='0 0 20 20'%3E%3Ccircle cx='10' cy='10' r='8' fill='none' stroke='%2301cdfe' stroke-width='2'/%3E%3Ccircle cx='10' cy='10' r='2' fill='%2301cdfe'/%3E%3C/svg%3E") 10 10, auto;
}

/* 2. Water Layers (Parallax) */
/* Deep water layer with bubbles */
.bubble-layer {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  pointer-events: none;
  z-index: -5;
  background-image: radial-gradient(circle at 50% 50%, rgba(255, 255, 255, 0.2) 2px, transparent 2px),
                    radial-gradient(circle at 80% 20%, rgba(255, 255, 255, 0.1) 4px, transparent 4px),
                    radial-gradient(circle at 20% 70%, rgba(255, 255, 255, 0.15) 3px, transparent 3px),
                    radial-gradient(circle at 40% 30%, rgba(255, 255, 255, 0.2) 2px, transparent 2px),
                    radial-gradient(circle at 60% 80%, rgba(255, 255, 255, 0.2) 1px, transparent 1px);
  background-size: 200px 200px;
  filter: blur(1px);
  opacity: 0.7;
  animation: bubbleRise 18s linear infinite;
  will-change: transform;
}

@keyframes bubbleRise {
  0% { transform: translateY(100%) translateX(-10px); }
  100% { transform: translateY(-100%) translateX(10px); }
}

/* Mid-water layer with animated jellyfish */
.jellyfish-layer {
  position: fixed;
  left: 0;
  bottom: 0;
  width: 100%;
  height: 40vh;
  pointer-events: none;
  z-index: -3;
  background: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='200' height='240' viewBox='0 0 200 240'%3E%3Cpath fill='%23b967ff' fill-opacity='0.3' d='M100 0C80 0 60 10 40 30L30 40C20 60 20 80 30 100L40 120C50 140 60 160 80 180L100 200L120 180C140 160 150 140 160 120L170 100C180 80 180 60 170 40L160 30C140 10 120 0 100 0Z M100 20C110 20 120 30 130 40L140 60C150 80 150 100 140 120L130 140C120 160 110 180 100 200V20Z'/%3E%3C/svg%3E") repeat-x;
  background-size: 200px 240px;
  animation: jellyfishFloat 25s linear infinite;
  will-change: transform;
  transform: translate3d(calc(var(--waveShiftX,0) * .3px), calc(var(--waveShiftY,0) * .15px), 0);
  filter: hue-rotate(0deg);
  animation-name: jellyfishFloat, jellyfishColor;
  animation-duration: 25s, 10s;
  animation-timing-function: linear, ease-in-out;
  animation-iteration-count: infinite, infinite;
}

@keyframes jellyfishFloat {
  0% { background-position-x: 0%; }
  100% { background-position-x: -200%; }
}

@keyframes jellyfishColor {
  0% { filter: hue-rotate(0deg); }
  50% { filter: hue-rotate(40deg); }
  100% { filter: hue-rotate(0deg); }
}

/* Surface water waves */
.wave-surface {
  position: fixed;
  left: 0;
  bottom: 0;
  width: 100%;
  height: 25vh;
  pointer-events: none;
  z-index: -2;
  background: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='800' height='120' viewBox='0 0 800 120'%3E%3Cpath fill='%235fe0ff' fill-opacity='0.2' d='M0 100 Q100 50 200 100 T400 100 T600 100 T800 100 V120 H0 Z'/%3E%3C/svg%3E") repeat-x;
  background-size: 800px 120px;
  animation: wavesMove 20s linear infinite;
  will-change: transform;
  transform: translate3d(calc(var(--waveShiftX,0) * .6px), calc(var(--waveShiftY,0) * .3px), 0);
}

@keyframes wavesMove {
  0% { background-position-x: 0%; }
  100% { background-position-x: -800px; }
}

/* Foreground coral reef */
.coral-layer {
  position: fixed;
  left: 0;
  bottom: 0;
  width: 100%;
  height: 15vh;
  pointer-events: none;
  z-index: -1;
  background: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='1000' height='120' viewBox='0 0 1000 120'%3E%3Cpath fill='%23ff71ce' fill-opacity='0.3' d='M0 120 H1000 V80 C950 60 940 90 900 70 C850 40 830 90 800 70 C780 50 760 80 750 60 C720 30 700 80 650 60 C600 40 580 80 550 60 C520 40 500 90 450 60 C400 30 380 70 350 50 C320 30 300 70 280 50 C260 30 240 70 220 50 C180 20 140 60 100 40 C60 20 30 70 0 50 Z'/%3E%3C/svg%3E") repeat-x;
  background-size: 1000px 120px;
  animation: coralSway 30s linear infinite;
  will-change: transform;
  transform: translate3d(calc(var(--waveShiftX,0) * .8px), calc(var(--waveShiftY,0) * .4px), 0);
}

@keyframes coralSway {
  0% { background-position-x: 0%; }
  100% { background-position-x: -1000px; }
}

/* 3. Typography */
.about-section h1,
.nav-brand {
  font-family: 'Press Start 2P', monospace;
  letter-spacing: -0.02em;
  text-shadow: var(--glow-shadow);
  color: var(--water-highlight);
}

/* Glowing water effect on brand */
.nav-brand {
  position: relative;
  color: var(--water-highlight);
}
.nav-brand::after {
  content: '';
  position: absolute;
  inset: -4px;
  border-radius: 50%;
  background: radial-gradient(circle, var(--neon-blue) 0%, transparent 70%);
  filter: blur(12px);
  opacity: 0.5;
  transition: opacity 0.4s ease;
}
.nav-brand:hover::after {
  opacity: 1;
  transform: scale(1.2);
}

.nav-brand a {
  color: var(--water-highlight);
  text-decoration: none;
}

/* 4. Writing Cards */
.writing-item {
  background: rgba(11, 11, 59, 0.6);
  border: 2px solid var(--neon-blue);
  border-radius: 8px;
  box-shadow: 0 0 15px rgba(1, 205, 254, 0.3), inset 0 0 0 1px rgba(255, 255, 255, 0.05);
  transition: transform 0.3s cubic-bezier(0.2, 0.8, 0.2, 1), box-shadow 0.3s ease;
  padding: 1.5rem;
  position: relative;
  overflow: hidden;
  backdrop-filter: blur(4px);
}

.writing-item::before {
  content: '';
  position: absolute;
  top: 0;
  left: -100%;
  width: 100%;
  height: 100%;
  background: linear-gradient(90deg, transparent, rgba(1, 205, 254, 0.2), transparent);
  transition: 0.5s;
  pointer-events: none;
}

.writing-item:hover {
  transform: translateY(-6px) scale(1.02);
  box-shadow: 0 0 25px rgba(1, 205, 254, 0.6), inset 0 0 0 1px rgba(255, 255, 255, 0.1), 0 10px 20px -10px rgba(0, 0, 0, 0.5);
}

.writing-item:hover::before {
  left: 100%;
}

.writing-item h3 {
  font-family: 'Press Start 2P', monospace;
  font-size: 1.1rem;
  color: var(--neon-yellow);
  margin-bottom: 1rem;
  text-shadow: 0 0 5px rgba(255, 251, 150, 0.5);
}

.writing-date {
  color: var(--neon-pink);
  font-weight: 500;
  letter-spacing: 0.5px;
}

/* 5. Fish sprites */
.fish {
  position: fixed;
  pointer-events: none;
  z-index: 1;
  will-change: transform;
  filter: drop-shadow(0 0 8px rgba(1, 205, 254, 0.5));
}

.fish.koi {
  width: 64px;
  height: 32px;
  background: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='64' height='32' viewBox='0 0 64 32'%3E%3Cpath fill='%23fffb96' d='M2 16 L8 8 L24 4 L40 8 L48 16 L40 24 L24 28 L8 24 Z M48 16 L56 12 L62 16 L56 20 Z M14 14 A2 2 0 1 0 14 18 A2 2 0 1 0 14 14 Z'/%3E%3C/svg%3E") no-repeat center/contain;
  animation: koiSwim 30s linear infinite;
}

@keyframes koiSwim {
  0% { transform: translateX(-64px); }
  45% { transform: translateX(calc(100vw + 32px)) translateY(10vh) rotate(5deg); }
  50% { transform: translateX(calc(100vw + 32px)) translateY(10vh) rotate(185deg); }
  95% { transform: translateX(-64px) translateY(30vh) rotate(185deg); }
  100% { transform: translateX(-64px) translateY(0) rotate(5deg); }
}

.fish.tropical {
  width: 48px;
  height: 32px;
  background: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='48' height='32' viewBox='0 0 48 32'%3E%3Cpath fill='%23ff71ce' d='M8 16 L2 8 L8 0 L24 8 L44 8 L44 24 L24 24 L8 32 L2 24 Z M36 12 L40 16 L36 20 Z M12 14 A2 2 0 1 0 12 18 A2 2 0 1 0 12 14 Z'/%3E%3C/svg%3E") no-repeat center/contain;
  animation: tropicalSwim 25s linear infinite;
}

@keyframes tropicalSwim {
  0% { transform: translateX(calc(100vw + 48px)); }
  100% { transform: translateX(-48px) translateY(10vh); }
}

/* New shark sprite */
.fish.shark {
  width: 80px;
  height: 40px;
  background: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='80' height='40' viewBox='0 0 80 40'%3E%3Cpath fill='%235fe0ff' fill-opacity='0.7' d='M0 20 L15 5 L40 0 L60 5 L75 20 L60 35 L40 40 L15 35 Z M75 20 L80 15 L75 10 M75 20 L80 25 L75 30 M50 15 A3 3 0 1 0 50 25 A3 3 0 1 0 50 15 Z'/%3E%3C/svg%3E") no-repeat center/contain;
  animation: sharkSwim 40s linear infinite;
  filter: drop-shadow(0 0 10px rgba(95, 224, 255, 0.6));
}

@keyframes sharkSwim {
  0% { transform: translateX(-80px) translateY(40vh); }
  50% { transform: translateX(calc(100vw + 40px)) translateY(15vh); }
  51% { transform: translateX(calc(100vw + 40px)) translateY(15vh) rotateY(180deg); }
  100% { transform: translateX(-80px) translateY(40vh) rotateY(180deg); }
}

/* 6. Water creature container */
#sea-creature-layer {
  position: fixed;
  top: 0;
  left: 0;
  width: 100vw;
  height: 100vh;
  z-index: 0;
  pointer-events: none;
  overflow: hidden;
}

/* 7. Glitch effect for headers */
@keyframes glitch {
  0% {
    text-shadow: 0.05em 0 0 var(--neon-pink), -0.05em -0.025em 0 var(--neon-blue),
                -0.025em 0.05em 0 var(--neon-purple);
  }
  14% {
    text-shadow: 0.05em 0 0 var(--neon-pink), -0.05em -0.025em 0 var(--neon-blue),
                -0.025em 0.05em 0 var(--neon-purple);
  }
  15% {
    text-shadow: -0.05em -0.025em 0 var(--neon-pink), 0.025em 0.025em 0 var(--neon-blue),
                -0.05em -0.05em 0 var(--neon-purple);
  }
  49% {
    text-shadow: -0.05em -0.025em 0 var(--neon-pink), 0.025em 0.025em 0 var(--neon-blue),
                -0.05em -0.05em 0 var(--neon-purple);
  }
  50% {
    text-shadow: 0.025em 0.05em 0 var(--neon-pink), 0.05em 0 0 var(--neon-blue),
                0 -0.05em 0 var(--neon-purple);
  }
  99% {
    text-shadow: 0.025em 0.05em 0 var(--neon-pink), 0.05em 0 0 var(--neon-blue),
                0 -0.05em 0 var(--neon-purple);
  }
  100% {
    text-shadow: -0.025em 0 0 var(--neon-pink), -0.025em -0.025em 0 var(--neon-blue),
                -0.025em -0.05em 0 var(--neon-purple);
  }
}

.about-section h1 {
  animation: glitch 3s infinite;
  animation-play-state: paused;
}

.about-section h1:hover {
  animation-play-state: running;
}

/* 8. Navbar styles */
.navbar {
  background: rgba(11, 11, 59, 0.7);
  transition: all 0.3s ease;
}
.navbar.scrolled {
  background: rgba(11, 11, 59, 0.9);
  backdrop-filter: blur(12px);
  box-shadow: 0 0 15px rgba(1, 205, 254, 0.3);
}

.nav-links a {
  color: var(--neon-blue);
  transition: color 0.2s ease, text-shadow 0.2s ease;
  position: relative;
}

.nav-links a:hover {
  color: var(--water-highlight);
  text-shadow: 0 0 8px var(--neon-blue);
}

/* Add underline effect */
.nav-links a::after {
  content: '';
  position: absolute;
  bottom: -4px;
  left: 0;
  width: 0;
  height: 2px;
  background-color: var(--neon-blue);
  transition: width 0.3s ease;
  box-shadow: 0 0 5px var(--neon-blue);
}

.nav-links a:hover::after {
  width: 100%;
}

/* 9. Modified responsive design */
@media (max-width: 768px) {
  .writing-item h3 {
    font-size: 0.9rem;
  }
  
  .jellyfish-layer,
  .wave-surface,
  .coral-layer {
    height: 30vh;
  }
}

/* New water surface reflection effect */
.reflection-overlay {
  position: fixed;
  bottom: 0;
  left: 0;
  width: 100%;
  height: 30vh;
  background: linear-gradient(to bottom, 
    rgba(10, 10, 50, 0.1) 0%,
    rgba(42, 151, 199, 0.2) 100%);
  mix-blend-mode: soft-light;
  pointer-events: none;
  z-index: 2;
}

/* Reduced motion preferences */
@media (prefers-reduced-motion: reduce) {
  .bubble-layer, .jellyfish-layer, .wave-surface, .coral-layer, .fish {
    animation: none !important;
    transform: none !important;
  }
  
  .writing-item::before {
    display: none;
  }

  .about-section h1 {
    animation: none;
  }
} 