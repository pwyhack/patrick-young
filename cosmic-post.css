body.cosmic-theme {
    background-color: #000011; /* Deep space blue */
    color: #eeeeff; /* Light text for contrast */
    overflow-x: hidden; /* Prevent horizontal scroll with many stars */
}

/* Hide Jurassic theme-specific parallax layers when cosmic theme is active */
.cosmic-theme body::before,
.cosmic-theme body::after,
.cosmic-theme .layer-mid,
.cosmic-theme .vine-layer,
.cosmic-theme .ground-layer {
    display: none !important; /* Important to override jurassic.css */
}

/* Re-enable .layer-mid as a container for dinos, but keep it transparent */
.cosmic-theme .layer-mid {
    display: block !important; /* Make sure it's displayed if JS needs it */
    background: transparent !important; /* Override jurassic.css background */
    z-index: -5; /* Above cosmic background, below article */
    pointer-events: none; /* Already in jurassic.css, but good to ensure */
}

.cosmic-theme .article-container {
    background-color: rgba(10, 10, 30, 0.8); /* Slightly transparent dark container */
    border-radius: 8px;
    box-shadow: 0 0 15px rgba(128, 128, 255, 0.3);
    position: relative; /* Needed for z-index stacking context, already set but explicit is fine */
    /* z-index: 1; */ /* Removed, will inherit z-index: 10 from article-styles.css */
}

.cosmic-theme .article-header h1 {
    color: #c0c0ff; /* Lighter blue/purple for headings */
}

.cosmic-theme .article-content a {
    color: #aaaaff;
}

.cosmic-theme .article-content a:hover {
    color: #ddddff;
}

/* Basic Starfield */
.starry-sky {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: -10; /* Behind everything */
    pointer-events: none; /* Make it non-interactive */
    background: transparent;
}

@function random_range($min, $max) {
    @return $min + random($max - $min);
}

@function multiple-box-shadow($n) {
    $value: '#{random_range(0, 2000)}px #{random_range(0, 2000)}px #FFF';
    @for $i from 2 through $n {
        $value: '#{$value} , #{random_range(0, 2000)}px #{random_range(0, 2000)}px #FFF';
    }
    @return $value;
}

$stars-small: multiple-box-shadow(700);
$stars-medium: multiple-box-shadow(200);
$stars-large: multiple-box-shadow(100);

/* Note: The SASS functions above won't work directly in CSS.
   They are for illustration. We will need to generate the box-shadows
   or use a different technique for a pure CSS starfield,
   or use JavaScript for a more dynamic one.

   For a pure CSS version, we'd typically use multiple divs
   or a very long box-shadow manually written or generated.
   Let's simplify for now with a repeating radial gradient.
*/

body.cosmic-theme::before {
    content: "";
    position: fixed;
    top: 0;
    left: 0;
    width: 200%; /* Make it larger to animate */
    height: 200%; /* Make it larger to animate */
    z-index: -10;
    background-image:
        radial-gradient(1px 1px at 20px 30px, #fff, transparent),
        radial-gradient(1px 1px at 40px 70px, #ddd, transparent),
        radial-gradient(1px 1px at 50px 160px, #fff, transparent),
        radial-gradient(1.5px 1.5px at 90px 40px, #fff, transparent),
        radial-gradient(1px 1px at 130px 80px, #fff, transparent),
        radial-gradient(1.5px 1.5px at 160px 120px, #ddd, transparent),
        radial-gradient(1px 1px at 20px 230px, #fff, transparent),
        radial-gradient(1px 1px at 40px 270px, #ddd, transparent),
        radial-gradient(1px 1px at 50px 360px, #fff, transparent),
        radial-gradient(1.5px 1.5px at 90px 240px, #fff, transparent),
        radial-gradient(1px 1px at 130px 280px, #fff, transparent),
        radial-gradient(1.5px 1.5px at 160px 320px, #ddd, transparent);
    background-color: #000011;
    background-repeat: repeat;
    background-size: 200px 200px; /* Adjust density */
    animation: twinkle 200s linear infinite;
}

@keyframes twinkle {
  from { transform: translate(0, 0); }
  to { transform: translate(-200px, -200px); } /* Moves one repeat unit */
}

/* Ensure navbar is visible */
.cosmic-theme .navbar {
    background-color: rgba(5, 5, 20, 0.85); /* Dark, slightly transparent */
    backdrop-filter: blur(5px);
    border-bottom: 1px solid rgba(100, 100, 200, 0.3);
}

.cosmic-theme .navbar .nav-brand a,
.cosmic-theme .navbar .nav-links a {
    color: #ddeeff;
}

.cosmic-theme .navbar .nav-brand a:hover,
.cosmic-theme .navbar .nav-links a:hover {
    color: #ffffff;
}

/* Adjust dino and ptero z-index for cosmic theme */
.cosmic-theme .dino,
.cosmic-theme .ptero {
    z-index: 0 !important; /* Above .layer-mid and cosmic background, below article */
    /* Optional: Adjust 'bottom' if they look too low/high without jurassic ground */
    /* bottom: 10vh; */ 
}

/* Style the T-Rex layer specifically if it exists and cosmic theme is on */
/* .cosmic-theme .layer-mid { ... } */ /* This is now handled above more specifically */ 